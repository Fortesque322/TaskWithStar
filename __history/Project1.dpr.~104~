program Project1;

{$APPTYPE CONSOLE}

{$R *.res}

uses
  System.SysUtils,
  Unit1 in 'Unit1.pas';

type

  TFileLayer = class
  private
    FFile: file;
  public
    function GetData: TBytes;
    procedure SetData(const ABytes: TBytes);
    constructor Create;
    destructor Destroy;
  end;

  TTest = record
    Value1: integer;
    value2: string;
    function AsBytes: TBytes;
    procedure SetBytes(const ABytes: TBytes);
  end;

var
  test,test1: TTest;
  data: TBytes;
  Count : TCount;
  Layer: TFileLayer;
  i : integer;
  str: string;
  { TTest }

function TTest.AsBytes: TBytes;
var
  size: integer;
begin
  size :=Length(value2);
  Result := [Value1] + TEncoding.UTF8.GetBytes(value2);
end;

procedure TTest.SetBytes(const ABytes: TBytes);
begin
  Value1 := ABytes[0];
  Value2 :=  TEncoding.UTF8.GetString(Copy(Data,1,length(data)-1));
end;

{ TFileLayer }

constructor TFileLayer.Create;
begin

end;

destructor TFileLayer.Destroy;
begin

end;

function TFileLayer.GetData: TBytes;
begin

end;

procedure TFileLayer.SetData(const ABytes: TBytes);
  begin

  end;

begin
  try
      Layer:= TFileLayer.Create;
      test.Value1 := 1;
      test1.value2 := '111';
      data:= test.AsBytes;
    test1.SetBytes(data);
//    Count := TCount.Create();
//    Count.SetEngineerName();
//    Count.SetSalary();
//    Count.SetExperience();
//    Count.SetBill();
//    Count.SetModel();
//    Count.SetServiceDate();
//    Count.SetUpTime();
//    Count.SaveToText();
  //  Count.SaveToNoType();
//    Count.ReadFromText();
//    for str in Count.ServiceEngineer.FName do
//    Writeln('Сотрудники: ' + str);
//    Writeln('ЗП: ' + floattostr(Count.ServiceEngineer.FSalary));
//    Writeln('Стаж: ' + floattostr(Count.ServiceEngineer.FExperience));
//    Writeln('Счет: ' + floattostr(Count.ServiceCentr.FBill));
//    for str in Count.Server.FModel do
//    Writeln('Модель Сервера: ' + str);
//    Writeln('Дней до обсуживания: ' + inttostr(Count.Server.FServiceDate));
//    Writeln('Дней бесперебойной работы: ' + inttostr(Count.Server.FUptimeDay));
//
    readln;

  except
    on E: Exception do
      Writeln(E.ClassName, ': ', E.Message);
  end;
end.
