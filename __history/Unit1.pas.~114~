unit Unit1;

interface

uses
  System.SysUtils;

type
  TServer = record
    FModel: array of string;
    FUptimeDay :integer;
    FServiceDate: integer;
  end;

  TServiceCentr = record
    FDetails : array of string;
    FDeliveryTimeDay : integer;
    FBill : double;
  end;

  TServiceEngineer = record
    FName : array of string;
    FSalary : real;
    FExperience : real;
  end;

  TCount = class
    Server : TServer;
    ServiceCentr : TServiceCentr;
    ServiceEngineer : TServiceEngineer;
    procedure SetModel();
    procedure SetUpTime();
    procedure SetServiceDate();
    procedure SetDetails();
    procedure SetDeliveryTime();
    procedure SetBill();
    procedure SetEngineerName();
    procedure SetSalary();
    procedure SetExperience();
    procedure SaveFromText();
    function AsBytes : TBytes;
    procedure SetBytes(Buf: Tbytes);
    constructor Create();
    destructor Destroy;
  end;

implementation

{ TCount }

function TCount.AsBytes: TBytes;
begin

end;

constructor TCount.Create();
begin

end;

destructor TCount.Destroy;
begin

end;

procedure TCount.SetBill();
  var
    Price : double;
  begin
    Writeln('Счет: ');
    readln(Price);
    ServiceCentr.FBill := Price;
    //можно попробовать пихнуть сюда запись в файл исключая доп функцию
  end;

procedure TCount.SetDeliveryTime;
  var
    DeliveryDay : integer;
  begin
    Writeln('Дней до доставки: : ');
    readln(DeliveryDay);
    ServiceCentr.FDeliveryTimeDay := DeliveryDay;
  end;

procedure TCount.SetDetails;
  begin

  end;

procedure TCount.SetEngineerName();
  var
    i, Quantity : integer;
    x: string;
  begin
    i := 0;
    Writeln('Кол-во сотурдников: ');
    readln(Quantity);
//    SetLength(ServiceEngineer.FName, 0);
    Writeln('Введите имена: ');
    for I := 0 to Quantity-1 do
    begin
      readln(x);
      ServiceEngineer.FName := ServiceEngineer.FName + [x];
    end;
  end;

procedure TCount.SetExperience();
  var
    Exp: real;
  begin
    Writeln('Стаж: ');
    Readln(Exp);
    ServiceEngineer.FExperience := Exp;
  end;

procedure TCount.SetModel();
  var
    i,x : integer;
    s : string;
  begin
    i := 0;
    Writeln('Количество серверов: ');
    readln(x);
//    SetLength(Server.FModel, x);   // Почитать
    Writeln('Введите модели: ');
    for I := 0 to x-1 do
    begin
      readln(s);
      Server.FModel := Server.FModel + [s];
    end;
  end;

procedure TCount.SetSalary();
  var
    Salary : real;
  begin
    Writeln('ЗП: ');
    readln(Salary);
    ServiceEngineer.FSalary := Salary;
  end;

procedure TCount.SetServiceDate();
  var
    DateDay: integer;
  begin
    Writeln('Через сколько дней обсуживание: ');
    readln(DateDay);
    Server.FServiceDate:= DateDay;
  end;

procedure TCount.SetUpTime();
  var
    Days : integer;
  begin
    Writeln('Время рааботы сервера (Дни): ');
    readln(Days);
    Server.FUptimeDay:= Days;
  end;

procedure TCount.SaveFromText;
  var
    TextForSave : TextFile;
    i : integer;
    str : string;
  begin
    AssignFile(TextForSave, 'C:\Distr\Record.txt');
    if not FileExists('C:\Distr\Record.txt') then
      Rewrite(TextForSave);
    Append(TextForSave);
    //Engineer
    for str in ServiceEngineer.FName do
    Writeln(TextForSave, str);
    Writeln(TextForSave, ServiceEngineer.FSalary);
    Writeln(TextForSave, ServiceEngineer.FExperience); 
    //Model   
    for str in Server.FModel do
    Writeln(TextForSave, str);
    Writeln(TextForSave, Server.FUptimeDay);
    Writeln(TextForSave, Server.FServiceDate);
    //Service
    for str in ServiceCentr.FDetails do
    Writeln(TextForSave, str);
    Writeln(TextForSave, ServiceCentr.FDeliveryTimeDay);
    Writeln(TextForSave, ServiceCentr.FBill);
    
    Close(TextForSave);
  end;

procedure TCount.SetBytes(Buf: Tbytes);
begin

end;

end.
